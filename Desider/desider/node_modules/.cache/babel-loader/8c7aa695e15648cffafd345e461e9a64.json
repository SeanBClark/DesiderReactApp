{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TailSpin from'../Style/LoadingAnimations/TailSpin.jsx';var BookRender=/*#__PURE__*/function(_Component){_inherits(BookRender,_Component);var _super=_createSuper(BookRender);function BookRender(props){var _this;_classCallCheck(this,BookRender);_this=_super.call(this,props);_this.state={data:[],loaded:false};return _this;}_createClass(BookRender,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var randomNum,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:randomNum=Math.floor(Math.random()*400);url='https://www.googleapis.com/books/v1/volumes?q=subject:fiction&maxResults=1&startIndex='+randomNum+'&langRestrict=en&orderBy=relevance&printType=books&key=AIzaSyDXwEL_zxvt-nIvezTRD9QKiDDOtn7nCg8';_context.next=4;return fetch(url).then(function(response){if(response.status>400){_this2.setState({placeholder:'Something went wrong'});}return response.json();}).then(function(data){_this2.setState({data:data.items,loaded:true});}).catch(function(){return _this2.setState({placeholder:'Something went wrong'});});case 4:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return this.state.loaded?/*#__PURE__*/React.createElement(\"div\",{className:\"render-div\"},this.state.data.map(function(book,index){return/*#__PURE__*/React.createElement(\"div\",{key:book.id},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},book.volumeInfo.title),/*#__PURE__*/React.createElement(\"div\",{className:\"author-list-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"author-title\"},\"Author\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"author-ul\"},book.volumeInfo.authors.map(function(author,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"author-li\"},author);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"publisher-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"publisher-title\"},\"Publisher\"),book.volumeInfo.publisher),/*#__PURE__*/React.createElement(\"div\",{className:\"cover-div\"},/*#__PURE__*/React.createElement(\"img\",{alt:'Book Cover for '+book.volumeInfo.title,className:\"cover-img\",id:\"coverIMG\",src:book.volumeInfo.imageLinks.thumbnail.replace('zoom=1','zoom=0')})),/*#__PURE__*/React.createElement(\"div\",{className:\"desc-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"desc\"},book.volumeInfo.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"details-div\"},book.volumeInfo.averageRating&&/*#__PURE__*/React.createElement(\"div\",{className:\"rating-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rating-title title\"},\"Average Rating\"),book.volumeInfo.averageRating,\" out of 5\"),/*#__PURE__*/React.createElement(\"div\",{className:\"prev-buy-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"prev-buy-title title\"},\"Buy or Sample \",book.volumeInfo.title),/*#__PURE__*/React.createElement(\"a\",{href:book.volumeInfo.previewLink},/*#__PURE__*/React.createElement(\"button\",{className:\"prev-btn btn\"},\"Preview\")),book.saleInfo.buyLink?/*#__PURE__*/React.createElement(\"a\",{href:book.saleInfo.buyLink},/*#__PURE__*/React.createElement(\"button\",{className:\"buy-btn btn\"},\"Buy\")):/*#__PURE__*/React.createElement(\"a\",{href:'https://www.google.com/search?q='+book.volumeInfo.title},/*#__PURE__*/React.createElement(\"button\",{className:\"buy-btn btn\"},\"Find on Google\")))));})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TailSpin,null));}}]);return BookRender;}(Component);export default BookRender;","map":{"version":3,"sources":["/Users/sclark/Documents/Desider/desider/src/Book/BookRender.jsx"],"names":["React","Component","TailSpin","BookRender","props","state","data","loaded","randomNum","Math","floor","random","url","fetch","then","response","status","setState","placeholder","json","items","catch","map","book","index","id","volumeInfo","title","authors","author","publisher","imageLinks","thumbnail","replace","description","averageRating","previewLink","saleInfo","buyLink"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yCAArB,C,GAEMC,CAAAA,U,wGAEF,oBAAYC,KAAZ,CAAmB,4CAEf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CAETC,IAAI,CAAE,EAFG,CAGTC,MAAM,CAAE,KAHC,CAAb,CAJe,aAUlB,C,uTAIOC,S,CAAYC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,GAA3B,C,CACZC,G,CAAM,yFAA2FJ,SAA3F,CAAuG,gG,uBAE3GK,CAAAA,KAAK,CAACD,GAAD,CAAL,CACLE,IADK,CACA,SAAAC,QAAQ,CAAI,CAEd,GAAIA,QAAQ,CAACC,MAAT,CAAkB,GAAtB,CAA2B,CAEvB,MAAI,CAACC,QAAL,CAAc,CAEVC,WAAW,CAAE,sBAFH,CAAd,EAMH,CACD,MAAOH,CAAAA,QAAQ,CAACI,IAAT,EAAP,CAEH,CAdK,EAeLL,IAfK,CAeA,SAAAR,IAAI,CAAI,CAEV,MAAI,CAACW,QAAL,CAAc,CAEVX,IAAI,CAAEA,IAAI,CAACc,KAFD,CAGVb,MAAM,CAAE,IAHE,CAAd,EAOH,CAxBK,EAyBLc,KAzBK,CAyBC,iBAAM,CAAA,MAAI,CAACJ,QAAL,CAAc,CAAEC,WAAW,CAAE,sBAAf,CAAd,CAAN,EAzBD,C,2MA6BD,CAEL,MAEI,MAAKb,KAAL,CAAWE,MAAX,cAEA,2BAAK,SAAS,CAAG,YAAjB,EAEK,KAAKF,KAAL,CAAWC,IAAX,CAAgBgB,GAAhB,CAAoB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAElC,mBAEI,2BAAK,GAAG,CAAKD,IAAI,CAACE,EAAlB,eAEI,2BAAK,SAAS,CAAG,OAAjB,EAA2BF,IAAI,CAACG,UAAL,CAAgBC,KAA3C,CAFJ,cAII,2BAAK,SAAS,CAAG,iBAAjB,eAEI,2BAAK,SAAS,CAAG,cAAjB,WAFJ,cAII,0BAAI,SAAS,CAAG,WAAhB,EAEKJ,IAAI,CAACG,UAAL,CAAgBE,OAAhB,CAAwBN,GAAxB,CAA4B,SAACO,MAAD,CAASL,KAAT,CAAmB,CAE5C,mBAEI,0BAAI,GAAG,CAAKA,KAAZ,CAAoB,SAAS,CAAG,WAAhC,EAEMK,MAFN,CAFJ,CAUH,CAZA,CAFL,CAJJ,CAJJ,cA4BI,2BAAK,SAAS,CAAG,eAAjB,eAEI,2BAAK,SAAS,CAAG,iBAAjB,cAFJ,CAIMN,IAAI,CAACG,UAAL,CAAgBI,SAJtB,CA5BJ,cAoCI,2BAAK,SAAS,CAAG,WAAjB,eAEI,2BAAK,GAAG,CAAK,kBAAoBP,IAAI,CAACG,UAAL,CAAgBC,KAAjD,CAAyD,SAAS,CAAG,WAArE,CAAiF,EAAE,CAAG,UAAtF,CAAiG,GAAG,CAAKJ,IAAI,CAACG,UAAL,CAAgBK,UAAhB,CAA2BC,SAA3B,CAAqCC,OAArC,CAA6C,QAA7C,CAAuD,QAAvD,CAAzG,EAFJ,CApCJ,cA0CI,2BAAK,SAAS,CAAG,UAAjB,eAEI,2BAAK,SAAS,CAAG,OAAjB,gBAFJ,cAII,2BAAK,SAAS,CAAG,MAAjB,EAA0BV,IAAI,CAACG,UAAL,CAAgBQ,WAA1C,CAJJ,CA1CJ,cAkDI,2BAAK,SAAS,CAAG,aAAjB,EAIUX,IAAI,CAACG,UAAL,CAAgBS,aAAhB,eAEE,2BAAK,SAAS,CAAG,YAAjB,eAEI,2BAAK,SAAS,CAAG,oBAAjB,mBAFJ,CAIMZ,IAAI,CAACG,UAAL,CAAgBS,aAJtB,aANZ,cAgBQ,2BAAK,SAAS,CAAG,cAAjB,eAEI,2BAAK,SAAS,CAAG,sBAAjB,mBAAwDZ,IAAI,CAACG,UAAL,CAAgBC,KAAxE,CAFJ,cAII,yBAAG,IAAI,CAAIJ,IAAI,CAACG,UAAL,CAAgBU,WAA3B,eAAwC,8BAAQ,SAAS,CAAG,cAApB,YAAxC,CAJJ,CAMKb,IAAI,CAACc,QAAL,CAAcC,OAAd,cAEG,yBAAG,IAAI,CAAIf,IAAI,CAACc,QAAL,CAAcC,OAAzB,eAAkC,8BAAQ,SAAS,CAAG,aAApB,QAAlC,CAFH,cAMG,yBAAG,IAAI,CAAK,mCAAqCf,IAAI,CAACG,UAAL,CAAgBC,KAAjE,eAAyE,8BAAQ,SAAS,CAAG,aAApB,mBAAzE,CAZR,CAhBR,CAlDJ,CAFJ,CA4FH,CA9FA,CAFL,CAFA,cAoGS,4CAAK,oBAAC,QAAD,MAAL,CAtGb,CA0GH,C,wBA5JoB1B,S,EAgKzB,cAAeE,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport TailSpin from '../Style/LoadingAnimations/TailSpin.jsx'\n\nclass BookRender extends Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n\n            data: [],\n            loaded: false,\n        };\n\n    }\n\n    async componentDidMount() {\n\n        var randomNum = Math.floor(Math.random() * 400);\n        var url = 'https://www.googleapis.com/books/v1/volumes?q=subject:fiction&maxResults=1&startIndex=' + randomNum + '&langRestrict=en&orderBy=relevance&printType=books&key=AIzaSyDXwEL_zxvt-nIvezTRD9QKiDDOtn7nCg8'\n\n        await fetch(url)\n        .then(response => {\n\n            if (response.status > 400) {\n                \n                this.setState({\n\n                    placeholder: 'Something went wrong'\n\n                })\n\n            }\n            return response.json();\n\n        })\n        .then(data => {\n\n            this.setState({\n\n                data: data.items,\n                loaded: true\n\n            })\n\n        })\n        .catch(() => this.setState({ placeholder: 'Something went wrong' })); //TO DO: Error Page\n\n    }\n\n    render() {\n\n        return (\n\n            this.state.loaded ? \n            \n            <div className = 'render-div'>\n\n                {this.state.data.map((book, index) => {\n\n                    return(\n\n                        <div key = { book.id }>\n\n                            <div className = 'title'>{ book.volumeInfo.title }</div>\n\n                            <div className = 'author-list-div'>\n\n                                <div className = 'author-title'>Author</div>\n\n                                <ul className = 'author-ul'>\n\n                                    {book.volumeInfo.authors.map((author, index) => {\n\n                                        return(\n\n                                            <li key = { index } className = 'author-li'>\n\n                                                { author }\n\n                                            </li>\n\n                                        );\n\n                                    })}\n\n                                </ul>\n\n                            </div>\n\n                            <div className = 'publisher-div'>\n\n                                <div className = 'publisher-title'>Publisher</div>\n                                \n                                { book.volumeInfo.publisher }\n                                \n                            </div>\n\n                            <div className = 'cover-div'>\n\n                                <img alt = { 'Book Cover for ' + book.volumeInfo.title } className = 'cover-img' id = 'coverIMG' src = { book.volumeInfo.imageLinks.thumbnail.replace('zoom=1', 'zoom=0') }></img>\n\n                            </div>\n\n                            <div className = 'desc-div'>\n\n                                <div className = 'title'>Description</div>\n\n                                <div className = 'desc'>{ book.volumeInfo.description }</div>\n                                \n                            </div>\n\n                            <div className = 'details-div'>\n\n                                    \n\n                                    { book.volumeInfo.averageRating &&  \n                                    \n                                        <div className = 'rating-div'>\n\n                                            <div className = 'rating-title title'>Average Rating</div>\n\n                                            { book.volumeInfo.averageRating } out of 5\n\n                                        </div>\n                                        \n                                    }\n\n                                    <div className = 'prev-buy-div'>\n\n                                        <div className = 'prev-buy-title title'>Buy or Sample { book.volumeInfo.title }</div>\n\n                                        <a href = {book.volumeInfo.previewLink}><button className = 'prev-btn btn'>Preview</button></a>\n\n                                        {book.saleInfo.buyLink ? \n                                        \n                                            <a href = {book.saleInfo.buyLink}><button className = 'buy-btn btn'>Buy</button></a> \n                                            \n                                        : \n                                        \n                                            <a href = { 'https://www.google.com/search?q=' + book.volumeInfo.title }><button className = 'buy-btn btn'>Find on Google</button></a>\n                                            \n                                        }\n\n                                    </div>\n\n                            </div>\n\n                        </div>\n\n                    );\n\n                })}\n\n            </div> : <div><TailSpin></TailSpin></div>\n\n        );   \n\n    }\n\n}\n\nexport default BookRender;"]},"metadata":{},"sourceType":"module"}