{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sclark/Documents/Desider/desider/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TailSpin from'../Style/LoadingAnimations/TailSpin.jsx';var BookRender=/*#__PURE__*/function(_Component){_inherits(BookRender,_Component);var _super=_createSuper(BookRender);function BookRender(props){var _this;_classCallCheck(this,BookRender);_this=_super.call(this,props);_this.state={data:[],loaded:false,movie:[]};return _this;}_createClass(BookRender,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var randomNum,url,rand;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:randomNum=Math.floor(Math.random()*20);url='https://api.themoviedb.org/3/trending/movie/day?api_key=b28164bd1b9bf9badeb8f15b70ce1dec&page='+randomNum;_context.next=4;return fetch(url).then(function(response){if(response.status>400){_this2.setState({placeholder:'Something went wrong'});}return response.json();}).then(function(data){_this2.setState({data:data.results});}).catch(function(){return _this2.setState({placeholder:'Something went wrong'});});case 4://TO DO: Error Page\nrand=Math.floor(Math.random()*this.state.data.length);this.setState({movie:this.state.movie.concat(this.state.data[rand]),loaded:true});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return this.state.loaded?/*#__PURE__*/React.createElement(\"div\",{className:\"render-div\"},this.state.movie.map(function(movie,index){return/*#__PURE__*/React.createElement(\"div\",{key:movie.id},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},movie.title),/*#__PURE__*/React.createElement(\"div\",{className:\"poster-div\"},/*#__PURE__*/React.createElement(\"img\",{alt:'Poster for '+movie.title,className:\"poster-img\",src:'https://image.tmdb.org/t/p/w500'+movie.poster_path})),/*#__PURE__*/React.createElement(\"div\",{className:\"desc-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},\"Description\"),/*#__PURE__*/React.createElement(\"div\",{className:\"desc\"},movie.overview)),/*#__PURE__*/React.createElement(\"div\",{className:\"details-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rating-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rating-title\"},\"Rating\"),/*#__PURE__*/React.createElement(\"div\",{className:\"rating-details\"},movie.vote_average+' out of 10'),/*#__PURE__*/React.createElement(\"div\",{className:\"rating-details\"},movie.vote_count+' votes cast'))));})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TailSpin,null));}}]);return BookRender;}(Component);export default BookRender;","map":{"version":3,"sources":["/Users/sclark/Documents/Desider/desider/src/Movie/MovieRender.jsx"],"names":["React","Component","TailSpin","BookRender","props","state","data","loaded","movie","randomNum","Math","floor","random","url","fetch","then","response","status","setState","placeholder","json","results","catch","rand","length","concat","map","index","id","title","poster_path","overview","vote_average","vote_count"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yCAArB,C,GAEMC,CAAAA,U,wGAEF,oBAAYC,KAAZ,CAAmB,4CAEf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CAETC,IAAI,CAAE,EAFG,CAGTC,MAAM,CAAE,KAHC,CAITC,KAAK,CAAE,EAJE,CAAb,CAJe,aAYlB,C,4TAIOC,S,CAAYC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,EAA3B,C,CACZC,G,CAAM,iGAAmGJ,S,uBAEvGK,CAAAA,KAAK,CAACD,GAAD,CAAL,CACLE,IADK,CACA,SAAAC,QAAQ,CAAI,CAEd,GAAIA,QAAQ,CAACC,MAAT,CAAkB,GAAtB,CAA2B,CAEvB,MAAI,CAACC,QAAL,CAAc,CAEVC,WAAW,CAAE,sBAFH,CAAd,EAMH,CACD,MAAOH,CAAAA,QAAQ,CAACI,IAAT,EAAP,CAEH,CAdK,EAeLL,IAfK,CAeA,SAAAT,IAAI,CAAI,CAEV,MAAI,CAACY,QAAL,CAAc,CAEVZ,IAAI,CAAEA,IAAI,CAACe,OAFD,CAAd,EAMH,CAvBK,EAwBLC,KAxBK,CAwBC,iBAAM,CAAA,MAAI,CAACJ,QAAL,CAAc,CAAEC,WAAW,CAAE,sBAAf,CAAd,CAAN,EAxBD,C,QAwBgE;AAElEI,I,CAAOb,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,KAAKP,KAAL,CAAWC,IAAX,CAAgBkB,MAA3C,C,CAEX,KAAKN,QAAL,CAAc,CAEVV,KAAK,CAAE,KAAKH,KAAL,CAAWG,KAAX,CAAiBiB,MAAjB,CAAwB,KAAKpB,KAAL,CAAWC,IAAX,CAAgBiB,IAAhB,CAAxB,CAFG,CAGVhB,MAAM,CAAE,IAHE,CAAd,E,+MASK,CAEL,MAEI,MAAKF,KAAL,CAAWE,MAAX,cAEA,2BAAK,SAAS,CAAG,YAAjB,EAEK,KAAKF,KAAL,CAAWG,KAAX,CAAiBkB,GAAjB,CAAqB,SAAClB,KAAD,CAAQmB,KAAR,CAAkB,CAEpC,mBAEI,2BAAK,GAAG,CAAKnB,KAAK,CAACoB,EAAnB,eAEI,2BAAK,SAAS,CAAG,OAAjB,EAA2BpB,KAAK,CAACqB,KAAjC,CAFJ,cAII,2BAAK,SAAS,CAAG,YAAjB,eAEI,2BAAK,GAAG,CAAK,cAAgBrB,KAAK,CAACqB,KAAnC,CAA2C,SAAS,CAAG,YAAvD,CAAoE,GAAG,CAAI,kCAAoCrB,KAAK,CAACsB,WAArH,EAFJ,CAJJ,cAUI,2BAAK,SAAS,CAAG,UAAjB,eAEI,2BAAK,SAAS,CAAG,OAAjB,gBAFJ,cAII,2BAAK,SAAS,CAAG,MAAjB,EAA0BtB,KAAK,CAACuB,QAAhC,CAJJ,CAVJ,cAoBI,2BAAK,SAAS,CAAG,aAAjB,eAEI,2BAAK,SAAS,CAAG,YAAjB,eAEI,2BAAK,SAAS,CAAG,cAAjB,WAFJ,cAQI,2BAAK,SAAS,CAAG,gBAAjB,EAEMvB,KAAK,CAACwB,YAAN,CAAqB,YAF3B,CARJ,cAcI,2BAAK,SAAS,CAAG,gBAAjB,EAEMxB,KAAK,CAACyB,UAAN,CAAmB,aAFzB,CAdJ,CAFJ,CApBJ,CAFJ,CAoDH,CAtDA,CAFL,CAFA,cA4DS,4CAAK,oBAAC,QAAD,MAAL,CA9Db,CAkEH,C,wBA9HoBhC,S,EAkIzB,cAAeE,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport TailSpin from '../Style/LoadingAnimations/TailSpin.jsx'\n\nclass BookRender extends Component {\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n\n            data: [],\n            loaded: false,\n            movie: []\n\n        };\n\n    }\n\n    async componentDidMount() {\n\n        var randomNum = Math.floor(Math.random() * 20);\n        var url = 'https://api.themoviedb.org/3/trending/movie/day?api_key=b28164bd1b9bf9badeb8f15b70ce1dec&page=' + randomNum;\n\n        await fetch(url)\n        .then(response => {\n\n            if (response.status > 400) {\n                \n                this.setState({\n\n                    placeholder: 'Something went wrong'\n\n                })\n\n            }\n            return response.json();\n\n        })\n        .then(data => {\n\n            this.setState({\n\n                data: data.results\n\n            })\n\n        })\n        .catch(() => this.setState({ placeholder: 'Something went wrong' })); //TO DO: Error Page\n\n        let rand = Math.floor(Math.random() * this.state.data.length);\n\n        this.setState({\n\n            movie: this.state.movie.concat(this.state.data[rand]),\n            loaded: true\n\n        });\n\n    }\n\n    render() {\n\n        return (\n\n            this.state.loaded ? \n            \n            <div className = 'render-div'>\n\n                {this.state.movie.map((movie, index) => {\n\n                    return(\n\n                        <div key = { movie.id }>\n\n                            <div className = 'title'>{ movie.title }</div>\n\n                            <div className = 'poster-div'>\n\n                                <img alt = { 'Poster for ' + movie.title } className = 'poster-img' src = {'https://image.tmdb.org/t/p/w500' + movie.poster_path}></img>\n\n                            </div>\n\n                            <div className = 'desc-div'>\n\n                                <div className = 'title'>Description</div>\n                                \n                                <div className = 'desc'>{ movie.overview }</div>\n                                \n                            </div>\n\n                            {/* <div className = 'rating'>{ movie.vote_average + ' out of 10.'}</div> */}\n\n                            <div className = 'details-div'>\n\n                                <div className = 'rating-div'>\n\n                                    <div className = 'rating-title'>\n\n                                        Rating\n\n                                    </div>\n\n                                    <div className = 'rating-details'>\n\n                                        { movie.vote_average + ' out of 10'}\n\n                                    </div>\n\n                                    <div className = 'rating-details'>\n\n                                        { movie.vote_count + ' votes cast' }\n\n                                    </div>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                    );\n\n                })}\n\n            </div> : <div><TailSpin></TailSpin></div>\n\n        );   \n\n    }\n\n}\n\nexport default BookRender;"]},"metadata":{},"sourceType":"module"}